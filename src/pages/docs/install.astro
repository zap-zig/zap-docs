---
import DocsLayout from '../../layouts/DocsLayout.astro';
import Code from '../../components/Code.astro';
---

<DocsLayout title="Installation" description="How to install zap">
  <p>zap can be installed in several ways. Choose the method that works best for you.</p>

  <h2>Quick Install (Recommended)</h2>
  <p>Run the install script:</p>
  <Code lang="bash" code="curl -fsSL https://zap-zig.github.io/install.sh | sh" />

  <h2>Build from Source</h2>
  <p>Requires <a href="https://ziglang.org/download/">Zig 0.15.2</a> or later.</p>
  <Code lang="bash" code={`# Clone the repository
git clone https://github.com/zap-zig/zap.git
cd zap

# Build release binary
zig build -Doptimize=ReleaseFast

# Install to /usr/local/bin
sudo zig build -Doptimize=ReleaseFast --prefix /usr/local install

# Or install to ~/.local/bin
zig build -Doptimize=ReleaseFast --prefix ~/.local install`} />

  <h2>Verify Installation</h2>
  <Code lang="bash" code={`zap version
# zap version 0.1.1`} />

  <h2>System Requirements</h2>
  <ul>
    <li>Linux (x86_64, aarch64)</li>
    <li>macOS (x86_64, aarch64)</li>
  </ul>

  <h2>Python Requirements</h2>
  <p>zap can manage Python for you! If you don't have Python installed, use:</p>
  <Code lang="bash" code={`# Download and install Python 3.12
zap python install 3.12

# Initialize project with the installed Python
zap init --python 3.12`} />

  <p>Alternatively, zap works with any system Python 3.8 or later:</p>
  <Code lang="bash" code={`# Use system Python
zap init

# Use specific system Python
zap init --python 3.11`} />

  <h2>What Gets Installed</h2>
  <table>
    <tr>
      <th>Location</th>
      <th>Contents</th>
    </tr>
    <tr>
      <td><code>/usr/local/bin/zap</code></td>
      <td>The zap binary (~8 MB)</td>
    </tr>
    <tr>
      <td><code>~/.cache/zap/</code></td>
      <td>Global package cache (created on first use)</td>
    </tr>
    <tr>
      <td><code>~/.zap/python/</code></td>
      <td>Managed Python installations (optional)</td>
    </tr>
  </table>

  <h2>Uninstall</h2>
  <Code lang="bash" code={`# Remove the binary
sudo rm /usr/local/bin/zap

# Clear the cache (optional)
rm -rf ~/.cache/zap

# Remove managed Python installations (optional)
rm -rf ~/.zap`} />
</DocsLayout>
